

<html>

      <head>
      
            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>

            <script init>
                                                                                console.clear();
                                                                                console.log('db-files-test-v2.0.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var ext,$,datatype,menumod,keydown
        ;
        
        var menu;
        
        var dbfiles;

        
  //:
  
  
        mod.stack.add   = init;
        
        async function init(){
                                                                                console.log('init');
              menu            = menumod();
              
              dbfiles         = mod['db-files'];
              
              
              dbfiles.initmod({ext,$,datatype,menumod,menu});
              
              dbfiles.load.complete   = complete.load;
              dbfiles.save.complete   = complete.save;
              
              await dbfiles.init();
              
              
              initdom(document.body);
  
              
              
              return;
              
  
              var txt     = 'helloworld';
              var blob    = new Blob([txt]);
              await dbfiles.save('/test.txt',blob);
              
              
              
              var blob    = await dbfiles.load('/test.txt');
              var txt     = await blob.text();
              console.log(txt);
              //alert(txt);
              
              
              
        }//init
  

(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
          
        var promise   = ext.load.libs(
              'js/dom/$.js.api',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js'
        );
        [$,datatype,menumod,keydown]   = await promise;
  
        mod.stack.complete;
              
})();

  
            </script>


            <style>

  html
    {font-family:arial}
    
  .icon
    {width:30px;height:30px;border:1px solid gray;cursor:pointer;border-radius:3px;box-sizing:border-box;}
    
            </style>
            
      </head>
      
      
      <body>
      
      
            <db-files component v2.0></db-files>
      
      
      </body>
      
      <script>


        var complete    = {};


  //:
  
  
        function initdom(rootnode){
          
              var root    = rootnode;
              
              menu.add.style();
              
              dbfiles.initdom(root);
              
        }//initdom
        

  //:
  
  
        complete.load   = function(file,blob){
        }//load
        
        
        complete.save   = function(file){
        }//save
        
        
      </script>
      
</html>


