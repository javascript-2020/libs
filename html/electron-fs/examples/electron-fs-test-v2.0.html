


<html>

      <head>
      
      
            <script src='https://libs.ext-code.com/js/dom/component/v3.0/component.js?hdr'></script>
            
            <script init>
                                                                                console.log('electron-fs test');
                                                                                console.log();
                                                                                
        var electron;
        
        
  //:
  
  
        async function init(){
                                                                                console.log('init');
              electron      = mod['electron-fs'];
              
              electron.initmod({source});
              
              electron.load.complete   = complete.load;
              electron.save.complete   = complete.save;
              
              await mod.auto();
              
              initdom();
              
              menu.open();
              
              electron.update('/work/tmp/');
              
              
        }//init
        
        
            </script>
            
            <style>
            
  html
    {font-family:arial}
    
  .icon
    {border:1px solid gray;border-radius:3px;box-sizing:border-box;width:32px;height:32px;cursor:pointer}
    
            </style>
            
            
      </head>
      
      <body>
      
            <h3>
                  electron-fs v2.0 test
            </h3>
            
            
            <electron-fs component v2.0></electron-fs>
            
            
      </body>
      
      
      
      <script>
      
      
        var cur     = {};
        cur.file    = null;
        cur.blob    = null;
        
  //:
  
  
        function initdom(){
        }//initdom
        
        
  //:
  
  
        function source(){
        
              return cur.blob;
              
        }//source
        
        
        function complete(){
        }//complete
        
        
        complete.load   = async function(file,blob){
                                                                                console.log(file,blob);
              cur.file    = file;
              cur.blob    = blob;
              
              var txt     = await blob.text();
              console.log('txt',txt);
              
        }//load
        
        
        complete.save   = function(file,confirm=true){
                                                                                console.log(file);
                                                                                
        }//save
        
        
      </script>
      
</html>


