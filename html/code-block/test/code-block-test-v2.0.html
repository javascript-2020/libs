


<html>

      <head>
      
      
      
            <script src='https://libs.ext-code.com/js/dom/component/v3.0/component.js'></script>
            
            <script init>
                                                                                console.clear();
                                                                                console.log('code-block-test-v2.0.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true
        ;
        
        var ext;
        var $;
        var datatype;
        var debug;
        var menumod;
        
        var menu;
        
        var codeblock1;
        var codeblock2;
        var codeblock3;
        
        
        
  //:
  
        mod.stack.df    = true;
        mod.stack.add   = init;
        
        async function init(){
                                                                                debug('init');
                                                                                
              menu        = menumod();
              
              codeblock1    = mod['code-block[c1]'];
              codeblock2    = mod['code-block[c2]'];
              codeblock3    = mod['code-block[c3]'];
              
              //code.initmod({ext,$,datatype});
              
              codeblock1.initmod({ext,$,datatype,menu});
              codeblock2.initmod({ext,$,datatype,menu});
              codeblock3.initmod({ext,$,datatype,menu});
              
              
              await codeblock1.init();
              await codeblock2.init();
              await codeblock3.init();
              
              
              initdom(document.body);
              
              
        }//init
        
        
        
        
(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
        
        var promise   = ext.load.libs(
              'js/dom/$.js.api',
              'js/core/datatype.js',
              'js/debug/debug.js',
              'js/dom/menumod/menumod.js',
        );
        [$,datatype,debug,menumod]   = await promise;
        
        mod.stack.complete;
        
})();

            </script>
            
            <style>
            
  html
    {font-family:arial}
    
  body>section
    {margin:20px 0 10px}
    
            </style>
            
      </head>
      
      
      <body>
      
            <h3>code-block test v2.0</h3>
            
            
            <section>
                  simple
            </section>
            
            <code-block id=c1 component v2.0>
            
        let a=42;
        
            </code-block>
            
            
            
            <section>
                  console
            </section>
            
            <code-block id=c2 snippet-console component v2.0>
            
        let a=42;
        console.log(a);
        
            </code-block>
            
            
            
            <section>
                  html
            </section>
            
            <code-block id=c3 snippet-html component v2.0>
            
        <div>
              hello
        </div>
        
            </code-block>
            
            
            
      </body>
      
      <script>
      
      
      
      
  //:
  
  
            function initdom(rootnode){
            
                  root                  = rootnode;
                  
                  var c1    = $('#c1');
                  codeblock1.initdom(c1);
                  
                  
                  var c2    = $('#c2');
                  
                  codeblock2.initdom(c2);
                  
                  
                  
                  var c3    = $('#c3');
                  codeblock3.initdom(c3);
                  
                  
                  
            }//initdom
            
            
            
            
      </script>
      
</html>
